## feature
ol内部统一的矢量对象类型，一个类/构造函数，调用的是实例对象
```js
import Feature from 'ol/Feature.js'
const f = new Feature({
  geometry: new Point([120, 30]),
  name: '杭州',
  value: 100,
})
```
使用：
  1. `source`通过url，引入kml、geojson、WFS格式的矢量数据源
  2. feature内部规定geometry类型与
- 在`VectorSource`中，是按*数组*存储多个要素，`source.getFeatures()`，vectorsource实例对象的取要素方法

## format
### GeoJSON
格式化工具，GeoJson、Features相互转化
```js
//读取geojson数据
//feature不带坐标约束
new GeoJSON().readFeatures(geojsonData, {
  dataProjection: 'EPSG:4326',    // 输入的数据是 4326
  featureProjection: 'EPSG:3857', // 地图用 3857
})
//写入feature
new GeoJSON().writeFeature(feature)
```
## layer
| layer 类型 | 显示内容 | 典型用途 | import 路径 |
|-----------|----------|----------|-------------|
| TileLayer | raster tile | XYZ、OSM、WMTS、Bing、ArcGIS tiles | ol/layer/Tile |
| VectorLayer | 矢量要素（点线面） | GeoJSON、Draw、实时渲染 | ol/layer/Vector |
| ImageLayer | 单张大图 | WMS、影像渲染、快照 | ol/layer/Image |
| VectorTileLayer | 矢量瓦片 (MVT) | 大规模高性能矢量渲染 | ol/layer/VectorTile |

```js
import TileLayer from 'ol/layer/Tile';
import VectorLayer from 'ol/layer/Vector';
import ImageLayer from 'ol/layer/Image';
import VectorTileLayer from 'ol/layer/VectorTile';
```
### heatmap
```js
new Heatmap({
  source,
  blur,        // 模糊程度
  radius,      // 半径
  weight,      // 权重字段
  gradient     // 颜色渐变
})

```
## source
使用原则：
- 瓦片数据使用 TileLayer + XYZ/OSM/WMTS/BingMaps source
- 矢量GeoJSON数据使用 VectorLayer + Vector source
- 单张大图片使用 ImageLayer + ImageWMS/ImageStatic source
- 矢量瓦片数据使用 VectorTileLayer + VectorTile source
### TileLayer 对应 source
- *瓦片类数据*，使用 TileLayer + XYZ/OSM/WMTS/BingMaps source
| 瓦片类型 | source 类 | import 语句 |
|----------|-----------|-------------|
| XYZ | XYZ | import XYZ from 'ol/source/XYZ' |
| OSM | OSM | import OSM from 'ol/source/OSM' |
| WMTS | WMTS | import WMTS from 'ol/source/WMTS' |
| BingMaps | BingMaps | import BingMaps from 'ol/source/BingMaps' |
| TileWMS | TileWMS | import TileWMS from 'ol/source/TileWMS' |
- WMS，兼容tilelayer，但只渲染一张图片，可进行瓦片切分————params: {'LAYERS': 'topp:states', *'TILED'*: true}

### VectorLayer 对应 source
| 数据格式 | 对应 source |
|----------|-------------|
| GeoJSON | ol/source/Vector + ol/format/GeoJSON |
| KML | ol/source/Vector + ol/format/KML |
| WFS | VectorSource |
| 绘制要素 | VectorSource()（空的） |


### ImageLayer 对应 source

| 渲染方式 | 对应 source |
|----------|-------------|
| WMS single image | ol/source/ImageWMS |
| Static image | ol/source/ImageStatic |

### VectorTileLayer 对应 source

| 瓦片类型 | 对应 source |
|----------|-------------|
| MVT | ol/source/VectorTile |

# vue里的ol
## onMounted
绝大多数与地图实例相关的，都放在onMounted(())=>{}里